# Museum of Artificial Intelligence Website

A modern, responsive website for the Museum of Artificial Intelligence featuring interactive slideshows, smooth animations, and a professional design.

## Project Layout

```
MAI_DS_2/
|- docs/                    # Reference material, image reports, RSS snapshot
|  |- reference/
|- src/
|  |- site/                 # Source HTML, images, JS, and CSS authored by hand
|  |- templates/            # Shared HTML templates used for localized pages
|  |- content/              # Localized page data (e.g., about page strings)
|- tools/
|  |- build-static.js       # Copies src/site to public/
|  |- build-pages.js        # Renders templates + content into public/
|  |- generate-slides-manifest.js
|  |- optimize-images.js
|- public/                  # Build output (generated)
|- api/                     # Vercel serverless endpoints
|- package.json
|- tailwind.config.js
```

All authored input lives under `src/`. The `public/` directory is generated at build time and should not be edited by hand.

## Building & Deployment

```bash
npm install            # One-time setup
npm run build          # Copies, renders, and compiles assets into public/
```

The build command runs three steps:
1. `node tools/build-static.js` copies everything in `src/site` to `public/`.
2. `node tools/build-pages.js` renders localized templates (currently `about` in en/sv).
3. `postcss src/tailwind.css -o public/assets/css/tailwind.css --env production` compiles Tailwind utilities.

On Vercel, configure the project with:
- **Build Command:** `npm run build`
- **Output Directory:** `public`

For local preview of the generated site:
```bash
npx serve public
# or
python -m http.server 3000 -d public
```

## Image Utilities

- `npm run optimize` — optimize slideshow images in `src/site/images/slide`
- `npm run generate:slides` — regenerate `slides.json` manifest from the slide assets

Artifacts and historical reports generated by those tools are archived in `docs/reference/`.

## Development Notes

- Tailwind content scanning watches `src/site/**/*.html`, `src/templates/**/*.html`, and JS under `src/site/assets/js/**/*.js` plus `src/site/journal.js`.
- Client-side logic lives in `src/site/assets/js/script.js` and `src/site/journal.js`.
- Static assets added to `src/site` will automatically be copied to the build output on the next `npm run build`.
- Localized pages can share structure by pairing entries in `src/content/` with templates in `src/templates/`; the build renders language variants into `public/`.

## Email Sending (Secure)

Email from forms is sent server-side via `api/send-email.js` using the EmailJS REST API. Configure these environment variables in your hosting provider (e.g., Vercel Project Settings ? Environment Variables) or a local `.env` file (not committed):

```
EMAILJS_SERVICE_ID=service_xxxxxxx
EMAILJS_PRIVATE_KEY=prv_xxxxxxxxxxxxxxxxxxxxxxxxx
EMAILJS_TEMPLATE_CONTACT=template_contact_id
EMAILJS_TEMPLATE_WORKSHOP=template_workshop_id
ALLOWED_ORIGINS=https://aimuseum.se,https://www.aimuseum.se,http://localhost:3000
```

Notes:
- Do not commit secrets. The private key must only exist as an environment variable.
- `ALLOWED_ORIGINS` is a comma-separated allowlist used by the endpoint for CORS and origin checks.
- In the EmailJS dashboard, also enable domain restrictions for your public site domains.
- The endpoint includes a lightweight rate limiter; adjust limits inside `api/send-email.js` if needed.

For local development, start from the sample in `config/env.example`:

```bash
cp config/env.example .env
# then fill in real values
```
