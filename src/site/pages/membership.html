<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Membership â€¢ Museum of AI</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Exo+2:wght@300;400;600;700;900&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="../assets/css/tailwind.css">

  <link rel="stylesheet" href="../assets/css/styles.css">
  <!-- Hreflang alternates (optional if you have sv version) -->
  <link rel="alternate" hreflang="sv" href="../sv/pages/membership.html">
  <link rel="alternate" hreflang="en" href="./membership.html">

  <!-- Email sending is handled server-side via /api/send-email -->
</head>
<body>
  <header class="w-full">
    <div class="container mx-auto px-4 py-6">
      <a href="../index.html" class="text-slate-300 hover:text-white">â† Back to Home</a>
    </div>
  </header>

  <main class="py-16">
    <div class="container mx-auto px-4">
      <h1 class="text-4xl font-bold mb-6">Membership</h1>
      <p class="text-slate-300 mb-8">Benefits, tiers, and how to join.</p>

      <div class="glass-card p-6 rounded-xl">
        <p class="text-slate-400">
          The Museum of Artificial Intelligence is operated by a non-profit association dedicated to educating and enlightening
          the general public, industry professionals, and academics about the past, present, and potential future of AI.
          Membership is open to all who wish to collaborate with us in achieving this objective.
        </p>
        <p class="text-slate-400 mt-4">
          Membership dues are 300 SEK per year for individuals and 5000 SEK for companies.
          Please use the form below to submit your application.
        </p>

        <!-- Membership form (EmailJS, no mailto) -->
        <form id="membership-form-en" class="mt-6 space-y-4" novalidate>
          <div>
            <label for="name-en" class="block text-sm font-medium text-slate-300 mb-2">Name</label>
            <input id="name-en" name="name" type="text" required autocomplete="name"
                   class="w-full rounded-lg bg-slate-900/50 border border-slate-700 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-indigo-500" />
          </div>
          <div>
            <label for="profession-en" class="block text-sm font-medium text-slate-300 mb-2">Profession (optional)</label>
            <input id="profession-en" name="profession" type="text" autocomplete="organization-title"
                   class="w-full rounded-lg bg-slate-900/50 border border-slate-700 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-indigo-500" />
          </div>
          <div>
            <label for="email-en" class="block text-sm font-medium text-slate-300 mb-2">Email</label>
            <input id="email-en" name="email" type="email" required autocomplete="email" inputmode="email"
                   class="w-full rounded-lg bg-slate-900/50 border border-slate-700 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-indigo-500" />
          </div>

          <input type="text" name="hp" tabindex="-1" autocomplete="off" class="hidden" aria-hidden="true">

          <p class="text-xs text-slate-400">
            We will only use your information to process your membership application. See our
            <a href="./privacy.html" class="underline hover:text-indigo-400">Privacy Policy</a>.
          </p>

          <div>
            <button type="submit"
                    class="bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-3 rounded-full font-medium transition duration-300">
              Submit application
            </button>
          </div>
        </form>
      </div>
    </div>

    <div class="mt-8 flex justify-center">
      <img src="../images/slide/18-evenemang-at-narkesgatan.webp" alt="Evenemang at NÃ¤rkegatan"
           class="max-w-full rounded-xl border border-slate-700 shadow-lg" loading="lazy">
    </div>
  </main>

  <script>
    document.getElementById('membership-form-en').addEventListener('submit', async (e) => {
      e.preventDefault();
      const form = e.target;

      const name = form.name.value.trim();
      const email = form.email.value.trim();
      const profession = (form.profession.value || '').trim();
      const hp = (form.hp?.value || '').trim();

      if (!name || !email) {
        alert('Please fill in both name and email.');
        return;
      }

      const btn = form.querySelector('button[type="submit"]');
      btn.disabled = true; btn.textContent = 'Sending…';

      try {
        const resp = await fetch('/api/send-email', {
          method: 'POST',
          headers: { 'content-type': 'application/json' },
          body: JSON.stringify({
            kind: 'membership',
            name,
            email,
            profession,
            reply_to: email,
            from_name: 'MAI Website',
            from_email: 'info@aimuseum.se',
            hp,
          }),
        });

        if (!resp.ok) {
          const data = await resp.json().catch(() => ({}));
          throw new Error(data?.error || 'Failed to send');
        }

        alert('Thank you! Your membership application has been sent.');
        form.reset();
      } catch (err) {
        console.error('Send error:', err);
        alert('Sorry, there was a problem sending your application.');
      } finally {
        btn.disabled = false; btn.textContent = 'Submit application';
      }
    });
  </script>

  <script src="../assets/js/script.js"></script>
</body>
</html>
